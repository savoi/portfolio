@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme {
  /* Fonts */
  --font-family-body: 'Inter', system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI', sans-serif;

  /* LIGHT THEME (defaults) */
  --color-mh-bg: oklch(98% 0.01 300deg);                /* Mist White */
  --color-mh-surface: oklch(92% 0.03 300deg);           /* Lavender Gray */
  --color-mh-soft: oklch(85% 0.03 300deg);              /* Cool Pearl */
  --color-mh-text: oklch(20% 0.04 300deg);              /* Ink Graphite */
  --color-mh-muted: oklch(40% 0.04 300deg);             /* Soft Graphite */
  --color-mh-warm: oklch(80% 0.22 50deg);               /* Solar Orange */
  --color-mh-soft-accent: oklch(78% 0.18 20deg);        /* Dusk Pink */
  --color-mh-cool: oklch(75% 0.18 260deg);              /* Aurora Blue */
  --button-primary-bg: oklch(80% 0.22 50deg);           /* mh-warm */
  --button-primary-text: var(--color-mh-bg);            /* Light text */
  --button-primary-hover-bg: oklch(82% 0.24 50deg);     /* Slightly brighter, more chroma */
  --button-primary-active-bg: oklch(78% 0.20 50deg);    /* Slightly darker */
  --button-primary-border: transparent;
  --button-primary-hover-border: oklch(80% 0.22 50deg / 40%); /* warm accent with alpha */
  --card: var(--color-mh-surface);
  --card-foreground: var(--color-mh-text);
  --card-border: oklch(0% 0 0deg / 8%);

  /* DARK THEME TOKENS (used via `dark:`) */
  --color-mh-bg-dark: oklch(16% 0.04 300deg);       /* Twilight Black */
  --color-mh-surface-dark: oklch(26% 0.05 300deg);  /* Moonlit Charcoal */
  --color-mh-soft-dark: oklch(36% 0.07 300deg);     /* Deep Violet Gray */
  --color-mh-text-dark: oklch(92% 0.01 300deg);     /* Fog White */
  --color-mh-muted-dark: oklch(78% 0.02 300deg);    /* Soft Fog */
  --card-dark: var(--color-mh-surface-dark);
  --card-foreground-dark: var(--color-mh-text-dark);
  --card-border-dark: oklch(1% 0 0deg / 12%);

  /* Fluid header tokens */
  --header-pad-x: clamp(12px, 3vw, 28px);
  --header-pad-y: clamp(10px, 1.5vw, 20px);
  --header-gap: clamp(8px, 2vw, 24px);
  --logo-w: clamp(128px, 16vw, 240px);
  --link-fs: clamp(14px, 0.5vw + 12px, 18px);
  --link-px: clamp(6px, 1.2vw, 12px);
  --link-py: clamp(4px, 0.8vw, 8px);
}

.header-logo svg {
  width: 100%;
  height: auto;
  display: block;
  overflow: visible;
}

.logo-shadow-wrap {
  opacity: 0.85;
  filter:
    drop-shadow(0 6px 10px oklch(0% 0 0deg / 35%))
    drop-shadow(0 18px 28px oklch(0% 0 0deg / 25%));
}

.dark .logo-shadow-wrap {
  opacity: 0.85;
  filter:
    drop-shadow(0 6px 12px oklch(0% 0 0deg / 55%))
    drop-shadow(0 20px 34px oklch(0% 0 0deg / 40%));
}

/* Subtle light-mode texture (grain + soft vignette) */
.light-texture {
  background-image:
    radial-gradient(120% 120% at 50% 0%,
      oklch(98% 0.01 300deg / 6%) 0%,
      oklch(92% 0.03 300deg / 6%) 100%),
    url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128' viewBox='0 0 128 128'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.6'/%3E%3C/svg%3E");
  background-repeat: no-repeat, repeat;
  background-size: cover, 128px 128px;
  background-blend-mode: soft-light, multiply;
  opacity: 1;
  transition: opacity 200ms ease;
}

/* Hide texture in dark mode */
[data-theme='dark'] .light-texture { opacity: 0; }
