---
import Card from './Card.astro';
import Badge from './Badge.astro';

export interface SkillSection {
  heading: string;
  skills: string[];
}

export interface Props {
  title: string;
  sections: SkillSection[];
  actions?: { label: string; href: string; external?: boolean }[];
}

const {
  title,
  sections = [],
  actions = []
} = Astro.props as Props;
---
<Card class="p-6 flex flex-col gap-6" blur={true}>
  <header>
    <h2 class="text-2xl font-semibold leading-tight text-text">{title}</h2>
  </header>

  <div class="flex flex-col gap-5">
    {sections.map((s) => (
      <section class="flex flex-col gap-3">
        <h3 class="text-sm font-semibold tracking-wide uppercase text-text">{s.heading}</h3>
        <div class="flex flex-wrap gap-2">
          {s.skills.map(skill => (
            <Badge title={skill} style='card' />
          ))}
        </div>
      </section>
    ))}
  </div>

  {actions.length > 0 && (
    <footer class="pt-2 flex flex-wrap gap-3">
      {actions.map(a => (
        <a
          href={a.href}
          class="inline-flex items-center gap-2 px-3 py-1 rounded-md bg-text text-background text-sm font-semibold hover:bg-[color-mix(in_oklch,var(--color-text)_86%,var(--color-accent-warm)_14%)] transition-colors"
          target={a.external ? '_blank' : undefined}
          rel={a.external ? 'noreferrer' : undefined}
        >
          {a.label}
        </a>
      ))}
    </footer>
  )}
</Card>
