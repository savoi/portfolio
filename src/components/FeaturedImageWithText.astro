---
import Card from './Card.astro';

export interface Props {
  title: string;
  image: string;
  imageAlt?: string;
  eyebrow?: string;
  body?: string;          // optional long text
  actions?: { label: string; href: string; external?: boolean }[];
}

const {
  title,
  image,
  imageAlt = title,
  eyebrow,
  body,
  actions = []
} = Astro.props as Props;
---
<Card class="p-0 overflow-hidden">
  <div class="flex flex-col md:flex-row">
    <!-- Image -->
    <figure class="md:w-5/12 w-full aspect-[4/3] md:aspect-auto bg-mh-soft/40 flex items-center justify-center">
      <img
        src={image}
        alt={imageAlt}
        class="h-full w-full object-cover object-center"
        loading="lazy"
        decoding="async"
      />
    </figure>

    <!-- Text -->
    <div class="md:w-7/12 w-full p-6 md:p-8 flex flex-col gap-4">
      {eyebrow && (
        <span class="text-xs font-semibold tracking-wider uppercase text-mh-muted">
          {eyebrow}
        </span>
      )}
      <h2 class="text-3xl font-semibold leading-tight text-mh-text">
        {title}
      </h2>
      {body && (
        <p class="text-mh-text/80 leading-relaxed text-base md:text-lg">
          {body}
        </p>
      )}
      <slot name="body" />
      {actions.length > 0 && (
        <div class="mt-4 flex flex-wrap gap-3">
          {actions.map(a => (
            <a
              href={a.href}
              class="inline-flex items-center gap-2 px-4 py-2 rounded-md bg-mh-text text-mh-bg text-sm font-semibold hover:bg-[color-mix(in_oklch,var(--color-mh-text)_86%,var(--color-mh-warm)_14%)] transition-colors"
              target={a.external ? '_blank' : undefined}
              rel={a.external ? 'noreferrer' : undefined}
            >
              {a.label}
            </a>
          ))}
        </div>
      )}
    </div>
  </div>
</Card>